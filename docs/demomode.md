# Демо-режим
В репозитории находится файл `demo.json`. Если скопировать этот файл в локальную папку, то Laney запустится в демо-режиме. В таком случае будут отображаться только те чаты и сообщения, которые были прописаны в файле, а большинство функций становятся недоступной.

Демо-режим предназначен для того, чтобы:
- сделать скриншоты с необходимым контентом (для публикования их в сообществе, например)
- проверить, корректно ли отображается сообщение или иной компонент в приложении. Достаточно просто редактировать `demo.json`, вместо того, чтобы отправлять сообщение в ВК или баловаться с Charles-ом, подменяя ответ.

## Описание файла `demo.json`:
| Поле       | Описание                                                                                | 
|------------|-----------------------------------------------------------------------------------------|
| `sessions` | Массив с объектами `session` (см. ниже)                                                 |
| `profiles` | Массив с объектами [профиля из VK API](https://dev.vk.com/ru/reference/objects/user)    |
| `groups`   | Массив с объектами [сообщества из VK API](https://dev.vk.com/ru/reference/objects/group)|

## Описание объекта `session`
| Поле               |Тип     | Описание                                                                   | 
|--------------------|--------|----------------------------------------------------------------------------|
| `id`               | Int64  | Идентификатор сессии (авторизованного пользователя). `id > 0` — пользователь, `id < 0` — сообщество. В файле должна присутствовать *только одна* сессия с id > 0.|
| `conversations`    | Array  | Массив с объектами, которые содержат поля [`conversation` (беседа)](https://dev.vk.com/ru/reference/objects/conversation) и [`last_message` (последнее сообщение в ней)](https://dev.vk.com/ru/reference/objects/message). Проще говоря, структура такая же, как ответ от метода [messages.getConversations](https://dev.vk.com/ru/method/messages.getConversations). Необходимо для списка чатов.|
| `messages`         | Array  | Массив с объектами [сообщения](https://dev.vk.com/ru/reference/objects/message) в рамках сессии. При выборе чата, Laney будет брать сообщения из этого массива по `peer_id`.|
| `activity_statuses`| Object | Описывает статус тайпинга в списке чатов. Ключи в объекте — это `peer_id` бесед из массива `conversations`. А значения — массив с объектами типа `typing_info`. (см. ниже)  |
| `times`            | Object | Задаёт время последним сообщениям из списка чатов относительно того времени, когда был запущен Laney. Ключи в объекте — это `message_id` сообщений из поля `last_message` массива `conversations`. А значения — кол-во секунд, вычитаемые из времени запуска приложения.  |

## Описание объекта `typing_info`
| Поле               |Тип     | Описание                                                                   | 
|--------------------|--------|----------------------------------------------------------------------------|
| `member_id`        | Int64  | Идентификатор участника. При `id > 0` имя берётся из массива `profiles`, при `id < 0` — из массива `groups`|
| `status`           | Int32  | Один и этих значений: 0 — печатает, 1 — записывает голосовое, 2 — отправляет фото, 3 — отправляет видео, 4 — отправляет файл|